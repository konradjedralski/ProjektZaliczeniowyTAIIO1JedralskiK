<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>#{msgs.tableData}</title>
        <h:outputStylesheet library="css" name="styles.css"/>
    </h:head>
    <h:body class="mainBackground">
        <h:form class="table">
            <h:dataTable value="#{viewControllerData.dataToList}" var="dataList" bgcolor="LightBlue" border="3" cellspacing="2"
                         rows="0" captionClass="warningMessage" footerClass="errorMessage" rowClasses="rows" >
                <f:facet name="header">#{msgs.tableData}</f:facet>
                <h:column>
                    <f:facet name="header" >#{msgs.id}</f:facet>
                    <h:outputText value="#{dataList.id}"/>                    
                </h:column>
                <h:column>
                    <f:facet name="header">#{msgs.nr}</f:facet>
                    <h:inputText value="#{dataList.nr}" rendered="#{dataList.edited}"/>
                    <h:outputText value="#{dataList.nr}" rendered="#{not dataList.edited}"/>
                </h:column>
                <h:column>
                    <f:facet name="header">#{msgs.title}</f:facet>
                    <h:inputText value="#{dataList.title}" rendered="#{dataList.edited}"/>
                    <h:outputText value="#{dataList.title}" rendered="#{not dataList.edited}"/>
                </h:column>
                <h:column>
                    <f:facet name="header">#{msgs.description}</f:facet>
                    <h:inputText value="#{dataList.description}" rendered="#{dataList.edited}"/>
                    <h:outputText value="#{dataList.description}" rendered="#{not dataList.edited}"/>
                </h:column>
                <h:column>
                    <f:facet name="header">#{msgs.amount}</f:facet>
                    <h:inputText value="#{dataList.amount}" converterMessage="#{msgs.digitsError}" rendered="#{dataList.edited}"/>
                    <h:outputText value="#{dataList.amount}" rendered="#{not dataList.edited}"/>
                </h:column>
                <h:column id="edition">
                    <f:facet name="header">#{msgs.edition}</f:facet>
                    <h:commandButton id="modifyRow" value="#{msgs.modify}"  action="#{viewControllerData.editionRow(dataList)}"/>          
                    <h:commandButton id="addRow" value="#{msgs.addRow}"  action="#{viewControllerData.addRow(dataList)}"/>
                    <h:commandButton id="saveData" value="#{msgs.saveData}" action="#{viewControllerData.saveData(dataList)}"/>
                    <h:commandButton id="delRow" value="#{msgs.deleteRow}" action="#{viewControllerData.deleteRow(dataList)}"/> 
                </h:column>                
            </h:dataTable> 
            <h:commandButton value="#{msgs.refleshData}" action="#{viewControllerData.refleshData()}"/>              
        </h:form>
        <h:button class="returnButton" value="#{msgs.returnMain}" outcome="#{sessionController.mainWindowAlias}"/>
    </h:body>
</html>

